# プロジェクト現状

## 開発進捗

### Phase 1: プロジェクト基盤構築 (ほぼ完了)
- [x] Remix プロジェクトの初期化 + テスト環境設定
- [x] データベース設定（Drizzle + D1） + DB 接続テスト
- [ ] 基本的なフォルダ構造とルーティング設定 + ルーティングテスト
- [ ] 認証システムの実装 + 認証テスト

### Phase 2: コア機能実装 (進行中)
- [ ] ユーザー認証（ログイン/ログアウト） + 認証フローテスト
- [ ] Topic の作成・表示機能 + CRUD 操作テスト
- [ ] スレッド投稿機能（返信の連鎖） + スレッド構造テスト
- [ ] マークダウンレンダリング機能 + レンダリングテスト
- [ ] 一覧表示機能 + 表示ロジックテスト

## 実装済み機能

### データベース
- Event Sourcingアーキテクチャ実装
- Drizzle ORM設定完了
- マイグレーション設定完了
- スキーマ定義完了

### 型定義・バリデーション
- Valibot スキーマ定義完了
- TypeScript型定義完了 
- 厳格な型安全性設定完了

### 認証システム
- 基本的な認証フレームワーク実装済み
- セッション管理実装済み
- ユーザー管理実装済み

### テスト基盤
- Vitest設定完了
- 基本的なテストファイル作成済み
- TDD環境構築完了

## 現在の課題・作業中項目

### git status (最新)
```
M web_app/app/routes/topics/detail.tsx  # 変更あり
?? .mcp.json                           # 新規ファイル  
?? web_app/app/services/post.server.ts # 新規ファイル
?? web_app/app/services/post.test.ts   # 新規ファイル
```

### 最近のコミット
- マークダウン機能の削除（プレーンテキストに簡素化）
- Phase 2コア機能の厳格な型安全性実装
- TypeScript型チェックフックの設定

## 技術的な特徴

### Event Sourcing実装
- コマンド/イベント分離
- 読み込み用ビューの自動生成
- イベントストアによる完全な履歴管理

### 厳格な型安全性
- `any`型の完全禁止
- Valibotによる実行時バリデーション
- TypeScript strict モード

### TDD開発
- テストファーストの徹底
- Red-Green-Refactorサイクル
- 自動テスト実行環境